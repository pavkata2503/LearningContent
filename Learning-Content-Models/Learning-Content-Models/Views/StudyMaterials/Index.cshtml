@model IEnumerable<Learning_Content_Models.Models.StudyMaterial>

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>@ViewData["Title"]</title>




	<link rel="stylesheet" href="/css/StudyMaterial.css" asp-append-version="true" />
	@* @await RenderSectionAsync("Head", false) *@
</head>

@* @using (Html.BeginForm("Index", "StudyMaterials", FormMethod.Get))
{
	<p>
		Search: <input type="text" name="searchString">
		Author: <input type="text" name="authorFilter">
		Category: <input type="text" name="categoryFilter">
		Subject: <input type="text" name="subjectFilter">
		Class: <input type="text" name="classFilter">
		Sort by:
		<select name="sortOrder">
			<option value="title_asc">Title ascending</option>
			<option value="title_desc">Title descending</option>
			<option value="date_asc">Date ascending</option>
			<!-- Add more sorting options as needed -->
		</select>
		<input type="submit" value="Apply Filters">
	</p>
} *@
@* <form method="get" action="@Url.Action("Index")"> *@
@* <form method="get">
	<div class="form-group">
		<label for="searchString">Search:</label>
		<input type="text" name="searchString" class="form-control" />
	</div>
	<!-- Add other filter fields as needed -->
	<a asp-ccontroller="StudyMaterials" asp-action="Index" class="btn btn-sm btn-outline-secondary">View</a>
	<button type="submit" class="btn btn-primary">Apply Filters</button>
</form>
 *@
<div class="album py-5 bg-body-tertiary">
	<div class="container">

		<div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
			@foreach (var item in Model)
			{
				<div class="col">
					<div class="card shadow-sm">
						<img class="card-img-top" src="@item.URL" width="100%" height="225" alt="Card image cap">
						<div class="card-body">
							<h3 class="card-text">@item.Title</h3>
							<p class="card-text">@item.Subject</p>
							<p class="card-text">@item.CreatedByName</p>

							<div class="d-flex justify-content-between align-items-center">
								<div class="btn-group">
									<a asp-ccontroller="club" asp-action="Detail" asp-route-id="@item.Id" class="btn btn-sm btn-outline-secondary">View</a>
									<a asp-ccontroller="StudyMaterial" asp-action="Edit" asp-route-id="@item.Id" class="btn btn-sm btn-outline-secondary">Edit</a>
									<form asp-action="Delete" asp-route-id="@item.Id" method="post"
										  onsubmit="return confirm('Are you sure you want to delete this StudyMaterial?');">
										<button type="submit" class="btn btn-danger">Delete</button>
									</form>
									<p class="date">@item.CreateDate.ToString("dd/MM/yyyy")</p>
									@* <a asp-ccontroller="StudyMaterial" asp-action="Delete" asp-route-id="@item.Id" class="btn btn-sm btn-outline-secondary">Delete</a> *@
									@* <button type="button" class="btn btn-sm btn-outline-secondary">Edit</button> *@
								</div>
								@* <small class="text-body-secondary">@item.Category</small> *@
							</div>
						</div>
					</div>
				</div>
			}
			@* <a asp-action="Add" asp-controller="StudyMaterials" class="btn btn-success">
			Add New StudyMaterials
			</a> *@
		</div>
		<a asp-action="Add" asp-controller="StudyMaterials" class="btn btn-success">
			Add New StudyMaterials
		</a>
	</div>
</div>

<div>
	<nav aria-label="Page navigation">
		<ul class="pagination">
			<li class="page-item @(ViewBag.CurrentPage == 1 ? "disabled" : "")">
				<a class="page-link" asp-action="Index" asp-controller="StudyMaterials"
				   asp-route-pageNumber="1" asp-route-pageSize="@ViewBag.PageSize">First</a>
			</li>
			<li class="page-item @(ViewBag.CurrentPage == 1 ? "disabled" : "")">
				<a class="page-link" asp-action="Index" asp-controller="StudyMaterials"
				   asp-route-pageNumber="@(ViewBag.CurrentPage - 1)" asp-route-pageSize="@ViewBag.PageSize">Previous</a>
			</li>
			<li class="page-item">
				<a class="page-link">Page @(ViewBag.CurrentPage) of @(ViewBag.TotalPages)</a>
			</li>
			<li class="page-item @(ViewBag.CurrentPage == ViewBag.TotalPages ? "disabled" : "")">
				<a class="page-link" asp-action="Index" asp-controller="StudyMaterials"
				   asp-route-pageNumber="@(ViewBag.CurrentPage + 1)" asp-route-pageSize="@ViewBag.PageSize">Next</a>
			</li>
			<li class="page-item @(ViewBag.CurrentPage == ViewBag.TotalPages ? "disabled" : "")">
				<a class="page-link" asp-action="Index" asp-controller="StudyMaterials"
				   asp-route-pageNumber="@ViewBag.TotalPages" asp-route-pageSize="@ViewBag.PageSize">Last</a>
			</li>
		</ul>
	</nav>
</div> 
